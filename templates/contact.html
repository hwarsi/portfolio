<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>

    <div class="topnav">
        <a class="active" href="#home">Home</a>
        <a href="#portfolio.html">Portfolio</a>
        <a href="#contact.html">Contact</a>
        <a href="#about.html">About</a>
    </div>
</head>
<body>
    <h2>Contact Form</h2>
    <div id="form2">
        <div id="contact_form"> </div>
            <onsubmit="return contact_form></onsubmit>
            <label for="name">First Name (Required)</label>
            <input type="text" id="name" name="firstname"
            placeholder="Your name">
            <label for="em">Email (Required)</label>
            <input type="text" id="em" name="Email"
            placeholder="Your email">
            
            <label for="reason">Reason</label>
            <select id="reason" name="reason">
                <option value="job_opportunity">Job Opportunity</option>
                <option value="Contract">Contract Work</option>
                <option value="Consulting">Consulting</option>
            </select>

            <label for="where">Where did you hear about me?</label>
            <select id="where" name="where">
                <option value="LinkedIn">LinkedIn</option>
                <option value="Google">Google</option>
                <option value="Facebook">Facebook</option>
            </select>

            <label for="details">Details</label>
            <textarea id="subject" maxlength="500" name="details" placeholder="Write something..."></textarea>
            <span id="characters">500</span> Characters remaining
            <button id="submit">Submit</button>
            <div id="message"></div>
        </div>
        <div>
            <button id="button">Hide Me!</button>
            <button id="sponge">Show Me!</button>
        </div>
    </div> 
</body>

<script type="text/javascript" src="{{ url_for('static', filename='js/contact.js') }}"></script>

<script>

    $(document).ready(function() {

        $("#submit").click(function(){
            var name = $("#name").val();
            var email = $("#em").val();
            var details = $("#details").val();
            var numbers = [0,1,2,3,4,5,6,7,8,9]
            var letters = "/^[a-zA-Z\s]+$/"; 
            var message = $('#message').val();

            // Validations
            if (name === '' || email === '') {
                alert("Please Fill Required Fields");
                return false;
            } else {
                console.log('Your information has been received, we will contact you soon');
            } 

            // Ajax goes here
            var baseURL = window.location.origin;
            var mainURL = baseURL + '/contactform';

            $.ajax({
                method: 'GET',
                url: mainURL,
                success: function(serverData) {
                    console.log(serverData);
                },
                error: function(error) {
                    console.log(error);
                }
            });
        });
    });


    /*
        var form_data = {'name':name, 'email':email};
        var Post_URL = baseURL + '/postcontactform';

        $.ajax({
            method: 'POST',
            url: Post_URL,
            data: JSON.stringify(form_data),
            contentType: "application/json",
            dataType: 'json',
            success: function(msg) {
                console.log(msg)
                alert('SUCCESS REACHED API!');
            },
            error: function(error) {
                console.log(error);
            }
        });
    */

    var maxlength = 500;
    $('textarea').keyup(function() {
        var length = $(this).val().length;
        var length = maxlength-length;
        $('#characters').text(length);
    });

        
 </script>  

 </html>